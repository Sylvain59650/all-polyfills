ArrayBuffer.transfer||(ArrayBuffer.transfer=function(r,e){if(!(r instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");if(e<=r.byteLength)return r.slice(0,e);var f=new Uint8Array(r);return new Uint8Array(new ArrayBuffer(e)).set(f),dest.buffer});